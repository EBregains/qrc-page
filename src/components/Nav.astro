---
import Image from 'astro/components/Image.astro'
import escudo from '../images/escudo.webp'

const { pathname } = Astro.url
const normalizedPathName = pathname.length > 1 && pathname.endsWith("/") ? pathname.slice(0, -1) : pathname;

const pagesLeft = [
  { name: "Infantiles", href: "#", active: normalizedPathName.startsWith("/rugby/infantiles")},
  { name: "Juveniles", href: "#", active: normalizedPathName.startsWith("/rugby/juveniles")},
  { name: "Plantel Superior", href: "#", active: normalizedPathName.startsWith("/rugby/plantel-superior")},
];
const pagesRight = [
  { name: "Inicio", href: "/", active: normalizedPathName === '/' ? true : false},
  { name: "Noticias", href: "/noticias", active: normalizedPathName === '/noticias' ? true : false},
  { name: "Contacto", href: "/contacto", active: normalizedPathName === '/contacto' ? true : false},
  { name: "Frisbee", href: "/frisbee", active: normalizedPathName === '/frisbee' ? true : false},
];
---
<nav>
  <div class="max-1440">
    <div class="nav-links">
      <p><strong>RUGBY</strong></p>
      {pagesLeft.map(({name, href, active}, key) => (
       <a
        href={href}
        id=`nav-link-${key}`
        rel="noopener noreferrer"
        class:list={["link", { "active": active}]}
        >
          {name}
        </a> 
      ))}
    </div>
    <Image class="logo" src={escudo} alt="Escudo Querandi" loading="eager"/>
    <div class="nav-links start">
      {pagesRight.map(({name, href, active}, key) => (
      <a
       href={href}
       id=`nav-link-${key}`
       rel="noopener noreferrer"
       class:list={["link", { "active": active}]}
       >
         {name}
       </a> 
     ))}
      <svg
        width="24"
        height="24"
        viewBox="0 0 24 24"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          fill-rule="evenodd"
          clip-rule="evenodd"
          d="M16 7C16 9.20914 14.2091 11 12 11C9.79086 11 8 9.20914 8 7C8 4.79086 9.79086 3 12 3C14.2091 3 16 4.79086 16 7ZM14 7C14 8.10457 13.1046 9 12 9C10.8954 9 10 8.10457 10 7C10 5.89543 10.8954 5 12 5C13.1046 5 14 5.89543 14 7Z"
          fill="currentColor"
        />
        <path
          d="M16 15C16 14.4477 15.5523 14 15 14H9C8.44772 14 8 14.4477 8 15V21H6V15C6 13.3431 7.34315 12 9 12H15C16.6569 12 18 13.3431 18 15V21H16V15Z"
          fill="currentColor"
        />
      </svg>
    </div>
  </div>  
</nav>
<div class="navBarLineContainer"></div>

<style>
    nav {
      position: relative;
      top: 0;
      width: 100%;
      height: auto;
      color: white;
      justify-content: center;

      z-index: 10;
    }
    .navBarLineContainer {
      position: relative;
      top: -2rem;
      width: 100%;
      height: 2px;
      background: linear-gradient( to right,  transparent 3%, #FFE280 20%, #FFE280 80%, transparent 97% );
      border-radius: 20%;
    }
    .max-1440 {
      display: flex;
      align-items: center;
      justify-content: center;
      margin-inline: auto;
      width: 100%;
      max-width: 1440px;
    }
    svg {
      margin-block: auto;
      border: solid 2px white;
      border-radius: 50%;
    }
    .logo {
      width: 6.1rem;
      height: auto;
      margin-top: 2.0rem;
    }
    .nav-links {
      font-family: 'kanit', sans-serif;
      font-size: 1.8rem;
      display: flex;
      flex-grow: 1;
      max-width: 45%;
      justify-content: space-evenly;
      align-items: center;
    }
    .link {
      text-decoration: none;
      color: white;
    }
</style>